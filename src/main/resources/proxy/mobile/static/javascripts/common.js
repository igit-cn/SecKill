var _LOGIN_URL="login.html",_isDebug=!1;$(function(){if("undefined"!=typeof _IS_AUTH_&&!1===_IS_AUTH_)return!1,void $("#webView").css("visibility","visible");$.getToken()?$("#webView").css("visibility","visible"):top.location.href=_LOGIN_URL}),$(function(){$("[data-href]").on("click",function(){location.href=$(this).data("href")})}),function(e){e.getToken=function(){var n=e.fn.cookie("!@#@%^&$#^");return!!n&&Base64.decode(n)},e.getLoginInfo=function(){return store.get("@#$@$$#^&")},e.removeToken=function(){e.fn.cookie("!@#@%^&$#^",null,{path:"/"}),store.remove("@#$@$$#^&")},e.setToken=function(n){e.fn.cookie("!@#@%^&$#^",Base64.encode(n.token),{path:"/"}),delete n.token,store.set("@#$@$$#^&",n)}}(Zepto),function(e){var n=function(n,o,t){e.ajax({url:"/api/"+n.url+".action",type:o,data:n.data,contentType:"application/x-www-form-urlencoded",dataType:"json",success:function(o){e.hideLoading(),_isDebug&&console.log(o);try{0!=o.code?-9==o.code?top.location.href=_LOGIN_URL:e.isFunction(t)?t(o):e.alert(o.msg):(void 0===o.data&&(o.data={length:0}),n.success(o))}catch(n){e.alert(n.message),_isDebug&&console.error(n.stack)}}})};e.apiGet=function(o,t,c,r){e.isFunction(t)&&(c=t,t={}),n({url:o,data:t,success:c},"GET",r)},e.apiPost=function(o,t,c,r){e.isFunction(t)&&(c=t,t={}),n({url:o,data:t,success:c},"POST",r)}}(Zepto),function(e){e.beforeZero=function(e){return e>9?e:"0"+e},e.empty=function(e){return void 0===e||""==e},e.dateTimeFormat=function(n){if(0==n||n.length<=0)return"";var o=new Date(parseInt(n));return e.dateFormat(parseInt(n))+" "+e.beforeZero(o.getHours())+":"+e.beforeZero(o.getMinutes())+":"+e.beforeZero(o.getSeconds())},e.dateFormat=function(n){if(0==n||n.length<=0)return"";var o=new Date(parseInt(n));return o.getFullYear()+"-"+e.beforeZero(o.getMonth()+1)+"-"+e.beforeZero(o.getDate())}}(Zepto),function(e){var n=function(n){var o=[];return n.each(function(n,t){e(t).is(":checked")&&!e(t).is(":disabled")&&o.push(e(t).val())}),o};e.batchManagement=function(o){var t=e.extend({checkboxAll:"#checkboxAll",checkboxIds:".checkboxIds"},o),c=e(t.checkboxAll),r=e(t.checkboxIds);if(c.length<=0||c.length>1)return void console.error("$.batchManagement plugin loading error");var i={values:[]};return c.off("change").on("change",function(){var o=(e(t.checkboxAll),e(t.checkboxIds)),c=e(this).is(":checked");o.prop("checked",c),i.values=n(o)}),r.off("change").on("change",function(){var o=e(t.checkboxIds);i.values=n(o)}),i}}(Zepto);