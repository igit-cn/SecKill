var _LOGIN_URL="login.html",_isDebug=!1;$(function(){var a=!0;return"undefined"!=typeof _IS_AUTH_&&_IS_AUTH_===!1?(a=!1,$("#webView").css("visibility","visible"),void 0):($.getToken()?$("#webView").css("visibility","visible"):top.location.href=_LOGIN_URL,void 0)}),function(a){var b="!#@!$^^$%&",c="*&&^%$^&*";a.getToken=function(){var c=a.cookie(b);return c?Base64.decode(c):!1},a.getLoginInfo=function(){return store.get(c)},a.removeToken=function(){a.cookie(b,null,{path:"/"}),store.remove(c)},a.setToken=function(d){a.cookie(b,Base64.encode(d.token),{path:"/"}),delete d.token,store.set(c,d)}}(jQuery),function(a){var b="/api/",c=function(c,d,e){a.ajax({url:b+c.url+".action",type:d,data:c.data,dataType:"json",beforeSend:function(){a.sui.toast.loading.show("\u6b63\u5728\u8bf7\u6c42\u670d\u52a1\u5668\u002e\u002e\u002e")},success:function(b){a.sui.toast.loading.hide(),_isDebug&&console.log(b);try{0!=b.code?-9==b.code?top.location.href=_LOGIN_URL:a.isFunction(e)?e(b):a.sui.error(b.msg):("undefined"==typeof b.data&&(b.data={length:0}),c.success(b))}catch(d){a.sui.error(d.message),_isDebug&&console.error(d.stack)}}})};a.apiGet=function(b,d,e,f){a.isFunction(d)&&(e=d,d={});var g={url:b,data:d,success:e};c(g,"GET",f)},a.apiPost=function(b,d,e,f){a.isFunction(d)&&(e=d,d={});var g={url:b,data:d,success:e};c(g,"POST",f)},a.fn.apiForm=function(c,d,e){var f=a(this).attr("action");a(this).ajaxForm({url:b+f+".action",dataType:"json",beforeSubmit:function(b,d){var f=d[0];return a.isFunction(c)&&!1===c(f)?!1:(a.sui.loading.show("\u8bf7\u6c42\u670d\u52a1\u5668\u002e\u002e\u002e"),void 0)},success:function(b){a.sui.loading.hide(),_isDebug&&console.log(b);try{0!==b.code?-9==b.code?top.location.href=_LOGIN_URL:a.isFunction(e)?e(b):a.sui.toast.error(b.msg):d(b)}catch(c){a.sui.error(c.message),_isDebug&&console.error(c.stack)}}})}}(jQuery),function(a){a.beforeZero=function(a){return a>9?a:"0"+a},a.empty=function(a){return"undefined"!=typeof a&&""!=a?!1:!0},a.dateTimeFormat=function(b){if(0==b)return"";var c=new Date(parseInt(b));return a.dateFormat(parseInt(b))+" "+a.beforeZero(c.getHours())+":"+a.beforeZero(c.getMinutes())+":"+a.beforeZero(c.getSeconds())},a.dateFormat=function(b){if(0==b)return"";var c=new Date(parseInt(b));return c.getFullYear()+"-"+a.beforeZero(c.getMonth()+1)+"-"+a.beforeZero(c.getDate())}}(jQuery),function(a){var b=function(b){var c=[];return b.each(function(b,d){a(d).is(":checked")&&c.push(a(d).val())}),c};a.batchManagement=function(c){var g,d=a.extend({checkboxAll:"#checkboxAll",checkboxIds:".checkboxIds"},c),e=a(d.checkboxAll),f=a(d.checkboxIds);return e.length<=0||e.length>1?(console.error("$.batchManagement plugin loading error"),void 0):(g={values:[]},e.off("change").on("change",function(){var c=a(this).is(":checked");f.prop("checked",c),g.values=b(f)}),f.off("change").on("change",function(){g.values=b(f)}),g)}}(jQuery);